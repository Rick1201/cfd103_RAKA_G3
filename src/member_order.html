<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="./css/style.css" />
    <title>Document</title>

    

</head>

<div id="app">

    <section class="member_order">
        <div class="member_area">

    
        <!-- 頁籤 -->
        <!-- 會員資料 -->
        <div class="member_container">                   
            <div class="selectbar">
                    <div class="selectbarbtn" @click="visibility='all'">所有訂單</div>
                    <div class="selectbarbtn" @click="visibility='active'">已付款</div>
                    <div  class="selectbarbtn" @click="visibility='completed'">已出貨</div>
    
            </div>
            <div  v-for="(member, index) in filters" class="member">
                <div class="member_text">
                        <div>
                            <p>訂單編號</p>
                            <p>{{member.number}}</p>
                        </div>
                        <div>
                            <p>訂單狀態</p>
                            <p>{{member.state}}</p>
                        </div>
                        <div>
                            <p>下單時間</p>
                            <p>{{member.time}}</p>
                        </div>
                        <div>
                            <p>總計</p>
                            <p>{{member.price}}</p>
                        </div>

                </div>
                <div class="order_button">
                    <button @click="member.comment='true'">評價</button>
                    <button @click="member.status='true'">查看訂單</button>
                </div>
                <div class="member_status_bg" v-show="member.status=='true'">
                    <div class="order_details_list">
                        <div>
                            <ul>
                                <li>訂單編號{{member.number}}</li>
                                <li>下單時間{{member.time}}</li>
                                <li>訂單狀態{{member.state}}</li>
                                <li>總計{{member.price}}</li>
                                <div class="button">
                                    <button @click="member.status='false'">返回訂單</button>
                                </div>
                            </ul>
                        </div>
                    </div>
                </div>
                
                <div class="member_comment_bg" v-show="member.comment=='true'">
                    <div class="member_comment">

                        <div>
                            <p>評分</p>
                        </div>
                        <div class="comment_text">
                            <div>評論</div>
                            <input type="text">
                        </div>
                        <button @click="member.comment='false'">確認</button>
                    </div>
                </div>
            </div>

        </div>
        
        </div>



    </section>
</div>




<body>
    <script src='https://cdnjs.cloudflare.com/ajax/libs/vue/2.6.11/vue.js' integrity='sha512-PyKhbAWS+VlTWXjk/36s5hJmUJBxcGY/1hlxg6woHD/EONP2fawZRKmvHdTGOWPKTqk3CPSUPh7+2boIBklbvw==' crossorigin='anonymous'></script>
<script>

</script>
<script>

 
    new Vue({
        el:"#app",
        data: {

                                  
                showComment:false,
                showOrder:false,                
                members:[
                    {
                    number:"RA000001",
                    time:"2021/01/02",
                    state:"已出貨",
                    price:"$1440",
                    status:false,
                    comment:false
                    },
                    {
                    number:"RA000002",
                    time:"2021/01/02",
                    state:"已出貨",
                    price:"$1440",
                    status:false,
                    comment:false
                    },
                    {
                    number:"RA000003",
                    time:"2021/01/02",
                    state:"已出貨",
                    price:"$1440",
                    status:false,
                    comment:false
                    },
                    {
                    number:"RA000004",
                    time:"2021/01/02",
                    state:"未出貨",
                    price:"$1440",
                    status:false,
                    comment:false
                    },
                    {
                    number:"RA000005",
                    time:"2021/01/02",
                    state:"未出貨",
                    price:"$1440",
                    status:false,
                    comment:false
                    },
                    {
                    number:"RA000006",
                    time:"2021/01/02",
                    state:"未出貨",
                    price:"$1440",
                    status:false,
                    comment:false
                    },
                ],

                visibility: "all",
                },

        computed: {
					filters: function () {
						if (this.visibility == "all") {
							return this.members;
						} else if (this.visibility == "active") {
							let newMembers = [];
							this.members.forEach(function (item) {
								if (item.state==="未出貨") {
									newMembers.push(item);
								}
							});
							return newMembers;
						} else if (this.visibility == "completed") {
							let newMembers = [];
							this.members.forEach(function (item) {
								if (item.state==="已出貨") {
									newMembers.push(item);
								}
							});
							return newMembers;
						}
					
					},
                    // addStatus(){
                    //     this.members.forEach(member => {
                    //         add status= false
                            
                    //     });
                    // }
                    
		},
        methods: {
            openShowOrder(index){
                this.showOrder=!this.showOrder;
            },
            openShowComment(index){
                this.showComment=!this.showComment;
            },
            clicktab(){
                this.tabbluea=this.tabblueb=this.tabbluec=newblue
                
            }

            },

    });

</script>
</body>
</html>